{
  "version": 3,
  "sources": ["../../../server/services/userLevel.ts"],
  "sourcesContent": ["import { UserLevel } from \"./types/UserLevel\";\n\nconst ranks = require('../config/game/levels.json') as UserLevel[];\n\nexport default class UserLevelService {\n\n    getByRankPoints(rankPoints: number): UserLevel {\n        const sortedRanks = ranks.sort((a, b) => a.rankPoints - b.rankPoints);\n\n        for (let i = sortedRanks.length - 1; i > 0; i--) {\n            let rank = sortedRanks[i];\n\n            if (rankPoints >= rank.rankPoints) {\n                let next = sortedRanks[i + 1] || null;\n                let rankPointsNext = next?.rankPoints || null;\n                let rankPointsProgress: number | null = null;\n\n                if (rankPointsNext != null) {\n                    rankPointsProgress = rankPointsNext - rankPoints - rank.rankPoints\n                }\n\n                return {\n                    ...rank,\n                    rankPointsNext,\n                    rankPointsProgress\n                };\n            }\n        }\n\n        return sortedRanks[0];\n    }\n\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,MAAM,QAAQ,QAAQ,4BAA4B;AAElD,MAAO,iBAA+B;AAAA,EAElC,gBAAgB,YAA+B;AAC3C,UAAM,cAAc,MAAM,KAAK,CAAC,GAAG,MAAM,EAAE,aAAa,EAAE,UAAU;AAEpE,aAAS,IAAI,YAAY,SAAS,GAAG,IAAI,GAAG,KAAK;AAC7C,UAAI,OAAO,YAAY;AAEvB,UAAI,cAAc,KAAK,YAAY;AAC/B,YAAI,OAAO,YAAY,IAAI,MAAM;AACjC,YAAI,kBAAiB,6BAAM,eAAc;AACzC,YAAI,qBAAoC;AAExC,YAAI,kBAAkB,MAAM;AACxB,+BAAqB,iBAAiB,aAAa,KAAK;AAAA,QAC5D;AAEA,eAAO;AAAA,UACH,GAAG;AAAA,UACH;AAAA,UACA;AAAA,QACJ;AAAA,MACJ;AAAA,IACJ;AAEA,WAAO,YAAY;AAAA,EACvB;AAEJ;AAAC;",
  "names": []
}
