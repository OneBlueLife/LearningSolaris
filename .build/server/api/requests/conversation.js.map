{
  "version": 3,
  "sources": ["../../../../server/api/requests/conversation.ts"],
  "sourcesContent": ["import ValidationError from \"../../errors/validation\";\nimport { DBObjectId } from \"../../services/types/DBObjectId\";\nimport { keyHasArrayValue, keyHasStringValue } from \"./helpers\";\n\nexport interface ConversationCreateConversationRequest {\n    name: string;\n    participants: DBObjectId[];\n};\n\nexport const mapToConversationCreateConversationRequest = (body: any): ConversationCreateConversationRequest => {\n    let errors: string[] = [];\n\n    if (!keyHasStringValue(body, 'name')) {\n        errors.push('Name is required.');\n    }\n\n    if (!keyHasArrayValue(body, 'participants')) {\n        errors.push('Participants is required.');\n    }\n\n    if (body.participants && !body.participants.length) {\n        errors.push('At least 1 participant is required.');\n    }\n\n    if (errors.length) {\n        throw new ValidationError(errors);\n    }\n    \n    return {\n        name: body.name,\n        participants: body.participants\n    }\n};\n\nexport interface ConversationSendMessageRequest {\n    message: string;\n};\n\nexport const mapToConversationSendMessageRequest = (body: any): ConversationSendMessageRequest => {\n    let errors: string[] = [];\n\n    if (!keyHasStringValue(body, 'message')) {\n        errors.push('Message is required.');\n    }\n\n    if (errors.length) {\n        throw new ValidationError(errors);\n    }\n    \n    return {\n        message: body.message\n    }\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAA4B;AAE5B,qBAAoD;AAKnD;AAEM,MAAM,6CAA6C,CAAC,SAAqD;AAC5G,MAAI,SAAmB,CAAC;AAExB,MAAI,KAAC,kCAAkB,MAAM,MAAM,GAAG;AAClC,WAAO,KAAK,mBAAmB;AAAA,EACnC;AAEA,MAAI,KAAC,iCAAiB,MAAM,cAAc,GAAG;AACzC,WAAO,KAAK,2BAA2B;AAAA,EAC3C;AAEA,MAAI,KAAK,gBAAgB,CAAC,KAAK,aAAa,QAAQ;AAChD,WAAO,KAAK,qCAAqC;AAAA,EACrD;AAEA,MAAI,OAAO,QAAQ;AACf,UAAM,IAAI,kBAAAA,QAAgB,MAAM;AAAA,EACpC;AAEA,SAAO;AAAA,IACH,MAAM,KAAK;AAAA,IACX,cAAc,KAAK;AAAA,EACvB;AACJ;AAIC;AAEM,MAAM,sCAAsC,CAAC,SAA8C;AAC9F,MAAI,SAAmB,CAAC;AAExB,MAAI,KAAC,kCAAkB,MAAM,SAAS,GAAG;AACrC,WAAO,KAAK,sBAAsB;AAAA,EACtC;AAEA,MAAI,OAAO,QAAQ;AACf,UAAM,IAAI,kBAAAA,QAAgB,MAAM;AAAA,EACpC;AAEA,SAAO;AAAA,IACH,SAAS,KAAK;AAAA,EAClB;AACJ;",
  "names": ["ValidationError"]
}
