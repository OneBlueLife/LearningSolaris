{
  "version": 3,
  "sources": ["../../../../server/api/routes/user.ts"],
  "sourcesContent": ["import { Router } from \"express\";\nimport { ExpressJoiInstance } from \"express-joi-validation\";\nimport { DependencyContainer } from \"../../services/types/DependencyContainer\";\nimport UserController from '../controllers/user';\nimport { MiddlewareContainer } from \"../middleware\";\n\nexport default (router: Router, mw: MiddlewareContainer, validator: ExpressJoiInstance, container: DependencyContainer) => {\n    const controller = UserController(container);\n\n    router.get('/api/user/leaderboard',\n        controller.listLeaderboard,\n        mw.core.handleError);\n\n    router.post('/api/user/',\n        controller.create,\n        mw.core.handleError);\n\n    router.get('/api/user/settings',\n        controller.getSettings,\n        mw.core.handleError);\n\n    router.put('/api/user/settings',\n        mw.auth.authenticate(),\n        controller.saveSettings,\n        mw.core.handleError);\n\n    router.get('/api/user/subscriptions',\n        mw.auth.authenticate(),\n        controller.getSubscriptions,\n        mw.core.handleError);\n\n    router.put('/api/user/subscriptions',\n        mw.auth.authenticate(),\n        controller.saveSubscriptions,\n        mw.core.handleError);\n\n    router.get('/api/user/credits',\n        mw.auth.authenticate(),\n        controller.getCredits,\n        mw.core.handleError);\n\n    router.get('/api/user/',\n        mw.auth.authenticate(),\n        controller.detailMe,\n        mw.core.handleError);\n\n    router.get('/api/user/avatars',\n        mw.auth.authenticate(),\n        controller.listMyAvatars,\n        mw.core.handleError);\n\n    router.post('/api/user/avatars/:avatarId/purchase',\n        mw.auth.authenticate(),\n        controller.purchaseAvatar,\n        mw.core.handleError);\n\n    router.get('/api/user/:id',\n        controller.detail,\n        mw.core.handleError);\n\n    router.get('/api/user/achievements/:id',\n        controller.getAchievements,\n        mw.core.handleError);\n\n    router.put('/api/user/changeEmailPreference',\n        mw.auth.authenticate(),\n        controller.updateEmailPreference,\n        mw.core.handleError);\n\n    router.put('/api/user/changeEmailOtherPreference',\n        mw.auth.authenticate(),\n        controller.updateEmailOtherPreference,\n        mw.core.handleError);\n\n    router.put('/api/user/changeUsername',\n        mw.auth.authenticate(),\n        controller.updateUsername,\n        mw.core.handleError);\n\n    router.put('/api/user/changeEmailAddress',\n        mw.auth.authenticate(),\n        controller.updateEmailAddress,\n        mw.core.handleError);\n\n    router.put('/api/user/changePassword',\n        mw.auth.authenticate(),\n        controller.updatePassword,\n        mw.core.handleError);\n\n    router.post('/api/user/requestResetPassword',\n        controller.requestPasswordReset,\n        mw.core.handleError);\n\n    router.post('/api/user/resetPassword',\n        controller.resetPassword,\n        mw.core.handleError);\n\n    router.post('/api/user/requestUsername',\n        controller.requestUsername,\n        mw.core.handleError);\n\n    router.delete('/api/user/closeaccount',\n        mw.auth.authenticate(),\n        controller.delete,\n        mw.core.handleError);\n\n    return router;\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,kBAA2B;AAG3B,IAAO,eAAQ,CAAC,QAAgB,IAAyB,WAA+B,cAAmC;AACvH,QAAM,iBAAa,YAAAA,SAAe,SAAS;AAE3C,SAAO;AAAA,IAAI;AAAA,IACP,WAAW;AAAA,IACX,GAAG,KAAK;AAAA,EAAW;AAEvB,SAAO;AAAA,IAAK;AAAA,IACR,WAAW;AAAA,IACX,GAAG,KAAK;AAAA,EAAW;AAEvB,SAAO;AAAA,IAAI;AAAA,IACP,WAAW;AAAA,IACX,GAAG,KAAK;AAAA,EAAW;AAEvB,SAAO;AAAA,IAAI;AAAA,IACP,GAAG,KAAK,aAAa;AAAA,IACrB,WAAW;AAAA,IACX,GAAG,KAAK;AAAA,EAAW;AAEvB,SAAO;AAAA,IAAI;AAAA,IACP,GAAG,KAAK,aAAa;AAAA,IACrB,WAAW;AAAA,IACX,GAAG,KAAK;AAAA,EAAW;AAEvB,SAAO;AAAA,IAAI;AAAA,IACP,GAAG,KAAK,aAAa;AAAA,IACrB,WAAW;AAAA,IACX,GAAG,KAAK;AAAA,EAAW;AAEvB,SAAO;AAAA,IAAI;AAAA,IACP,GAAG,KAAK,aAAa;AAAA,IACrB,WAAW;AAAA,IACX,GAAG,KAAK;AAAA,EAAW;AAEvB,SAAO;AAAA,IAAI;AAAA,IACP,GAAG,KAAK,aAAa;AAAA,IACrB,WAAW;AAAA,IACX,GAAG,KAAK;AAAA,EAAW;AAEvB,SAAO;AAAA,IAAI;AAAA,IACP,GAAG,KAAK,aAAa;AAAA,IACrB,WAAW;AAAA,IACX,GAAG,KAAK;AAAA,EAAW;AAEvB,SAAO;AAAA,IAAK;AAAA,IACR,GAAG,KAAK,aAAa;AAAA,IACrB,WAAW;AAAA,IACX,GAAG,KAAK;AAAA,EAAW;AAEvB,SAAO;AAAA,IAAI;AAAA,IACP,WAAW;AAAA,IACX,GAAG,KAAK;AAAA,EAAW;AAEvB,SAAO;AAAA,IAAI;AAAA,IACP,WAAW;AAAA,IACX,GAAG,KAAK;AAAA,EAAW;AAEvB,SAAO;AAAA,IAAI;AAAA,IACP,GAAG,KAAK,aAAa;AAAA,IACrB,WAAW;AAAA,IACX,GAAG,KAAK;AAAA,EAAW;AAEvB,SAAO;AAAA,IAAI;AAAA,IACP,GAAG,KAAK,aAAa;AAAA,IACrB,WAAW;AAAA,IACX,GAAG,KAAK;AAAA,EAAW;AAEvB,SAAO;AAAA,IAAI;AAAA,IACP,GAAG,KAAK,aAAa;AAAA,IACrB,WAAW;AAAA,IACX,GAAG,KAAK;AAAA,EAAW;AAEvB,SAAO;AAAA,IAAI;AAAA,IACP,GAAG,KAAK,aAAa;AAAA,IACrB,WAAW;AAAA,IACX,GAAG,KAAK;AAAA,EAAW;AAEvB,SAAO;AAAA,IAAI;AAAA,IACP,GAAG,KAAK,aAAa;AAAA,IACrB,WAAW;AAAA,IACX,GAAG,KAAK;AAAA,EAAW;AAEvB,SAAO;AAAA,IAAK;AAAA,IACR,WAAW;AAAA,IACX,GAAG,KAAK;AAAA,EAAW;AAEvB,SAAO;AAAA,IAAK;AAAA,IACR,WAAW;AAAA,IACX,GAAG,KAAK;AAAA,EAAW;AAEvB,SAAO;AAAA,IAAK;AAAA,IACR,WAAW;AAAA,IACX,GAAG,KAAK;AAAA,EAAW;AAEvB,SAAO;AAAA,IAAO;AAAA,IACV,GAAG,KAAK,aAAa;AAAA,IACrB,WAAW;AAAA,IACX,GAAG,KAAK;AAAA,EAAW;AAEvB,SAAO;AACX;",
  "names": ["UserController"]
}
