{
  "version": 3,
  "sources": ["../../../../server/api/routes/auth.ts"],
  "sourcesContent": ["import { Router } from \"express\";\nimport { ExpressJoiInstance } from \"express-joi-validation\";\nimport { DependencyContainer } from \"../../services/types/DependencyContainer\";\nimport AuthController from '../controllers/auth';\nimport { MiddlewareContainer } from \"../middleware\";\nimport { authLoginRequestSchema } from \"../requests/auth\";\n\nexport default (router: Router, mw: MiddlewareContainer, validator: ExpressJoiInstance, container: DependencyContainer) => {\n    const controller = AuthController(container);\n\n    router.post('/api/auth/login',\n        validator.body(authLoginRequestSchema),\n        controller.login,\n        mw.core.handleError);\n\n    router.post('/api/auth/logout',\n        controller.logout,\n        mw.core.handleError);\n\n    router.post('/api/auth/verify',\n        controller.verify);\n\n    router.get('/api/auth/discord',\n        controller.authoriseDiscord); // TODO: This should be in another api file. oauth.js?\n        \n    router.delete('/api/auth/discord',\n        mw.auth.authenticate(),\n        controller.unauthoriseDiscord,\n        mw.core.handleError);\n\n    return router;\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,kBAA2B;AAE3B,IAAAA,eAAuC;AAEvC,IAAO,eAAQ,CAAC,QAAgB,IAAyB,WAA+B,cAAmC;AACvH,QAAM,iBAAa,YAAAC,SAAe,SAAS;AAE3C,SAAO;AAAA,IAAK;AAAA,IACR,UAAU,KAAK,mCAAsB;AAAA,IACrC,WAAW;AAAA,IACX,GAAG,KAAK;AAAA,EAAW;AAEvB,SAAO;AAAA,IAAK;AAAA,IACR,WAAW;AAAA,IACX,GAAG,KAAK;AAAA,EAAW;AAEvB,SAAO;AAAA,IAAK;AAAA,IACR,WAAW;AAAA,EAAM;AAErB,SAAO;AAAA,IAAI;AAAA,IACP,WAAW;AAAA,EAAgB;AAE/B,SAAO;AAAA,IAAO;AAAA,IACV,GAAG,KAAK,aAAa;AAAA,IACrB,WAAW;AAAA,IACX,GAAG,KAAK;AAAA,EAAW;AAEvB,SAAO;AACX;",
  "names": ["import_auth", "AuthController"]
}
