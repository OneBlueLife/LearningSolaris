{
  "version": 3,
  "sources": ["../../../../server/api/routes/carrier.ts"],
  "sourcesContent": ["import { Router } from \"express\";\nimport { ExpressJoiInstance } from \"express-joi-validation\";\nimport { DependencyContainer } from \"../../services/types/DependencyContainer\";\nimport CarrierController from '../controllers/carrier';\nimport { MiddlewareContainer } from \"../middleware\";\n\nexport default (router: Router, mw: MiddlewareContainer, validator: ExpressJoiInstance, container: DependencyContainer) => {\n    const controller = CarrierController(container);\n\n    router.put('/api/game/:gameId/carrier/:carrierId/waypoints',\n        mw.auth.authenticate(),\n        mw.game.loadGame({\n            lean: true,\n            settings: true,\n            state: true,\n            galaxy: true,\n            constants: true\n        }),\n        mw.game.validateGameState({\n            isUnlocked: true,\n            isNotFinished: true\n        }),\n        mw.player.loadPlayer,\n        mw.player.validatePlayerState({ isPlayerUndefeated: true }),\n        controller.saveWaypoints,\n        mw.core.handleError);\n\n    router.put('/api/game/:gameId/carrier/:carrierId/waypoints/loop',\n        mw.auth.authenticate(),\n        mw.game.loadGame({\n            lean: true,\n            settings: true,\n            state: true,\n            galaxy: true,\n            constants: true\n        }),\n        mw.game.validateGameState({\n            isUnlocked: true,\n            isNotFinished: true\n        }),\n        mw.player.loadPlayer,\n        mw.player.validatePlayerState({ isPlayerUndefeated: true }),\n        controller.loopWaypoints,\n        mw.core.handleError);\n    \n    router.put('/api/game/:gameId/carrier/:carrierId/transfer',\n        mw.auth.authenticate(),\n        mw.game.loadGame({\n            lean: true,\n            settings: true,\n            state: true,\n            galaxy: true,\n            constants: true\n        }),\n        mw.game.validateGameState({\n            isUnlocked: true,\n            isNotFinished: true\n        }),\n        mw.player.loadPlayer,\n        mw.player.validatePlayerState({ isPlayerUndefeated: true }),\n        controller.transferShips,\n        mw.core.handleError);\n\n    router.put('/api/game/:gameId/carrier/:carrierId/gift',\n        mw.auth.authenticate(),\n        mw.game.loadGame({\n            lean: true,\n            settings: true,\n            state: true,\n            galaxy: true,\n            constants: true\n        }),\n        mw.game.validateGameState({\n            isUnlocked: true,\n            isNotFinished: true\n        }),\n        mw.player.loadPlayer,\n        mw.player.validatePlayerState({ isPlayerUndefeated: true }),\n        controller.gift,\n        mw.core.handleError);\n\n    router.patch('/api/game/:gameId/carrier/:carrierId/rename',\n        mw.auth.authenticate(),\n        mw.game.loadGame({\n            lean: true,\n            settings: true,\n            state: true,\n            galaxy: true,\n            constants: true\n        }),\n        mw.game.validateGameState({\n            isUnlocked: true,\n            isNotFinished: true\n        }),\n        mw.player.loadPlayer,\n        mw.player.validatePlayerState({ isPlayerUndefeated: true }),\n        controller.rename,\n        mw.core.handleError);\n\n    router.delete('/api/game/:gameId/carrier/:carrierId/scuttle',\n        mw.auth.authenticate(),\n        mw.game.loadGame({\n            lean: true,\n            settings: true,\n            state: true,\n            galaxy: true,\n            constants: true\n        }),\n        mw.game.validateGameState({\n            isUnlocked: true,\n            isNotFinished: true\n        }),\n        mw.player.loadPlayer,\n        mw.player.validatePlayerState({ isPlayerUndefeated: true }),\n        controller.scuttle,\n        mw.core.handleError);\n\n    router.post('/api/game/:gameId/carrier/calculateCombat',\n        mw.auth.authenticate(),\n        controller.calculateCombat,\n        mw.core.handleError);\n\n    return router;\n}"],
  "mappings": "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",
  "names": ["CarrierController"]
}
