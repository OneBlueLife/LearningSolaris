{
  "version": 3,
  "sources": ["../../../../../server/db/models/schemas/history.ts"],
  "sourcesContent": ["const mongoose = require('mongoose');\nconst Schema = mongoose.Schema;\nconst Types = Schema.Types;\n\nconst schema = new Schema({\n    gameId: { type: Types.ObjectId, required: true },\n    tick: { type: Types.Number, required: true },\n    productionTick: { type: Types.Number, required: true },\n    players: [\n        {\n            userId: { type: Types.ObjectId, required: false, default: null },\n            playerId: { type: Types.ObjectId, required: true },\n            statistics: {\n                totalStars: { type: Types.Number, required: true, default: 0 },\n                totalHomeStars: { type: Types.Number, required: true, default: 0 },\n                totalEconomy: { type: Types.Number, required: true, default: 0 },\n                totalIndustry: { type: Types.Number, required: true, default: 0 },\n                totalScience: { type: Types.Number, required: true, default: 0 },\n                totalShips: { type: Types.Number, required: true, default: 0 },\n                totalCarriers: { type: Types.Number, required: true, default: 0 },\n                totalSpecialists: { type: Types.Number, required: true, default: 0 },\n                totalStarSpecialists: { type: Types.Number, required: true, default: 0 },\n                totalCarrierSpecialists: { type: Types.Number, required: true, default: 0 },\n                newShips: { type: Types.Number, required: true, default: 0 },\n                warpgates: { type: Types.Number, required: true, default: 0 }\n            },\n            alias: { type: Types.String, required: true },\n            avatar: { type: Types.String, required: false, default: null },\n            researchingNow: { type: Types.String, required: true },\n            researchingNext: { type: Types.String, required: true },\n            credits: { type: Types.Number, required: true },\n            creditsSpecialists: { type: Types.Number, required: true },\n            isOpenSlot: { type: Types.Boolean, required: false, default: false },\n            defeated: { type: Types.Boolean, required: true },\n            defeatedDate: { type: Types.Date, required: false, default: null },\n            afk: { type: Types.Boolean, required: true },\n            ready: { type: Types.Boolean, required: false, default: false },\n            readyToQuit: { type: Types.Boolean, required: false, default: false },\n            research: {\n                scanning: {\n                    level: { type: Types.Number, required: true, default: 1  },\n                    progress: { type: Types.Number, required: true, default: 0  },\n                },\n                hyperspace: {\n                    level: { type: Types.Number, required: true, default: 1  },\n                    progress: { type: Types.Number, required: true, default: 0  },\n                },\n                terraforming: {\n                    level: { type: Types.Number, required: true, default: 1  },\n                    progress: { type: Types.Number, required: true, default: 0  },\n                },\n                experimentation: {\n                    level: { type: Types.Number, required: true, default: 1  },\n                    progress: { type: Types.Number, required: true, default: 0  },\n                },\n                weapons: {\n                    level: { type: Types.Number, required: true, default: 1  },\n                    progress: { type: Types.Number, required: true, default: 0  },\n                },\n                banking: {\n                    level: { type: Types.Number, required: true, default: 1  },\n                    progress: { type: Types.Number, required: true, default: 0  },\n                },\n                manufacturing: {\n                    level: { type: Types.Number, required: true, default: 1  },\n                    progress: { type: Types.Number, required: true, default: 0  },\n                },\n                specialists: {\n                    level: { type: Types.Number, required: true, default: 1  },\n                    progress: { type: Types.Number, required: true, default: 0  },\n                }\n            }\n        }\n    ],\n    stars: [\n        {\n            starId: { type: Types.ObjectId, required: true },\n            ownedByPlayerId: { type: Types.ObjectId, required: false, default: null},\n            naturalResources: {\n                economy: { type: Types.Number, required: true },\n                industry: { type: Types.Number, required: true },\n                science: { type: Types.Number, required: true }\n            },\n            ships: { type: Types.Number, required: true },\n            shipsActual: { type: Types.Number, required: true },\n            specialistId: { type: Types.Number, required: false, default: null },\n            homeStar: { type: Types.Boolean, required: false, default: false },\n            warpGate: { type: Types.Boolean, required: true },\n            ignoreBulkUpgrade: {\n                economy: { type: Types.Boolean, required: false, default: false },\n                industry: { type: Types.Boolean, required: false, default: false },\n                science: { type: Types.Boolean, required: false, default: false }\n            },\n            infrastructure: {\n                economy: { type: Types.Number, required: true },\n                industry: { type: Types.Number, required: true },\n                science: { type: Types.Number, required: true }\n            },\n            location: {\n                x: { type: Types.Number, required: true },\n                y: { type: Types.Number, required: true }\n            }\n        }\n    ],\n    carriers: [\n        {\n            carrierId: { type: Types.ObjectId, required: true },\n            ownedByPlayerId: { type: Types.ObjectId, required: true },\n            name: { type: Types.String, required: true },\n            orbiting: { type: Types.ObjectId, required: false, default: null },\n            ships: { type: Types.Number, required: true },\n            specialistId: { type: Types.Number, required: false, default: null },\n            isGift: { type: Types.Boolean, required: true },\n            location: {\n                x: { type: Types.Number, required: true },\n                y: { type: Types.Number, required: true }\n            },\n            waypoints: [\n                {\n                    source: { type: Types.ObjectId, required: true },\n                    destination: { type: Types.ObjectId, required: true }\n                }\n            ]\n        }\n    ]\n});\n\nschema.index({gameId: 1, tick: 1}, {unique: true});\n\nexport default schema;\n"],
  "mappings": "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",
  "names": []
}
