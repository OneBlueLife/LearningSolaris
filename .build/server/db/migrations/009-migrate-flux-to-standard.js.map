{
  "version": 3,
  "sources": ["../../../../server/db/migrations/009-migrate-flux-to-standard.js"],
  "sourcesContent": ["module.exports = {\n    async migrate(db) {\n        const games = db.collection('games');\n\n        await games.updateMany({\n            'settings.general.type': 'flux_rt'\n        }, {\n            $set: {\n                'settings.general.type': 'standard_rt'\n            }\n        });\n\n        await games.updateMany({\n            'settings.general.type': { \n                $in: [\n                    'standard_rt',\n                    'standard_tb',\n                    '32_player_rt',\n                    'special_dark',\n                    'special_fog',\n                    'special_ultraDark',\n                    'special_orbital',\n                    'special_battleRoyale',\n                    'special_homeStar',\n                    'special_homeStarElimination',\n                    'special_anonymous',\n                    'special_kingOfTheHill',\n                    'special_tinyGalaxy',\n                    'special_freeForAll',\n                    'special_arcade'\n                ]\n            },\n            'state.startDate': { $eq: null },\n            'settings.general.fluxId': { $eq: null },\n            'settings.general.fluxEnabled': 'disabled'\n        }, {\n            $set: {\n                'settings.general.fluxEnabled': 'enabled',\n                'settings.general.fluxId': 5\n            }\n        })\n    }\n};\n"],
  "mappings": ";AAAA,OAAO,UAAU;AAAA,EACb,MAAM,QAAQ,IAAI;AACd,UAAM,QAAQ,GAAG,WAAW,OAAO;AAEnC,UAAM,MAAM,WAAW;AAAA,MACnB,yBAAyB;AAAA,IAC7B,GAAG;AAAA,MACC,MAAM;AAAA,QACF,yBAAyB;AAAA,MAC7B;AAAA,IACJ,CAAC;AAED,UAAM,MAAM,WAAW;AAAA,MACnB,yBAAyB;AAAA,QACrB,KAAK;AAAA,UACD;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,QACJ;AAAA,MACJ;AAAA,MACA,mBAAmB,EAAE,KAAK,KAAK;AAAA,MAC/B,2BAA2B,EAAE,KAAK,KAAK;AAAA,MACvC,gCAAgC;AAAA,IACpC,GAAG;AAAA,MACC,MAAM;AAAA,QACF,gCAAgC;AAAA,QAChC,2BAA2B;AAAA,MAC/B;AAAA,IACJ,CAAC;AAAA,EACL;AACJ;",
  "names": []
}
